Ancestor(x,y) :- Parent(x,y).
Ancestor(x,z) :- Ancestor(y,z), Parent(x,y).

Res(y)  :- P(x, x), Q(x, 42).
Q(x, x) :- R(x), S(x).
R(x)    :- T(x).
